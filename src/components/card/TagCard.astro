---
import { type CollectionEntry, getEntry } from "astro:content";
import { IoPricetag } from "solid-icons/io";
import { Image } from "astro:assets";

interface Props {
	id: CollectionEntry<"tag">["id"];
	isLink?: boolean;
}

const { id, isLink = true } = Astro.props;
const tag = await getEntry("tag", id);
---

<a href={`/blog/tag/${id}/1`} class={`${
	isLink
	? "cursor-pointer hover:bg-accent-foreground hover:text-accent-background transition"
	: "pointer-events-none"
	} w-fit h-fit inline-flex items-center gap-1 text-muted-foreground rounded-md px-1`}
>
	<figure class="h-3">
		{
			tag.data.icon ? (
				<Image
					src={tag.data.icon.src}
					width={20}
					height={20}
					alt={tag.data.icon.alt}
					class="w-full h-full object-contain"
				/>
			) : (
		  <IoPricetag size={"0.75rem"} />
		)
		}
	</figure>
	<label class={`${isLink ? "cursor-pointer" : "pointer-events-none"} text-sm font-semibold`}>
		{tag.data.name}
	</label>
</a>
